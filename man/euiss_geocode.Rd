% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/geocoding.R
\name{euiss_geocode}
\alias{euiss_geocode}
\title{Geocode locations in a data frame}
\usage{
euiss_geocode(
  df,
  loc,
  sf = TRUE,
  country_bias = NULL,
  timeout = 10,
  max_retries = 3,
  delay = 0.5,
  cache_results = TRUE,
  verbose = FALSE
)
}
\arguments{
\item{df}{A data frame containing location information.}

\item{loc}{The name of the location column in the data frame.}

\item{sf}{Logical. Should the output be converted to an sf object? Default TRUE.}

\item{country_bias}{Optional country code to bias geocoding results (e.g., "US", "DE").}

\item{timeout}{Timeout for individual geocoding requests in seconds.}

\item{max_retries}{Number of retries for failed geocoding requests.}

\item{delay}{Delay between requests in seconds (to be respectful to the service).}

\item{cache_results}{Logical. Should results be cached for repeated requests?}

\item{verbose}{Logical. Print progress and results? Default FALSE.}
}
\value{
If sf=TRUE, returns an sf object with point geometries. Otherwise returns
        a data frame with latitude and longitude columns.
}
\description{
This function takes a data frame with location names and geocodes them using
OpenStreetMap Nominatim service via the tmaptools package. It handles batch
geocoding with error handling and optional conversion to sf objects.
}
\details{
This function geocodes locations using the Nominatim service from OpenStreetMap.
It includes several enhancements:
\itemize{
  \item Automatic retry for failed requests
  \item Rate limiting to respect service limits
  \item Optional country biasing for better accuracy
  \item Caching to avoid repeated requests
  \item Progress reporting for large datasets
}
}
\examples{
\dontrun{
# Basic geocoding
locations <- data.frame(
  city = c("Paris", "London", "Berlin", "Madrid"),
  population = c(2161000, 8982000, 3669000, 6642000)
)

geocoded <- euiss_geocode(locations, loc = "city")

# With country bias and verbose output
eu_cities <- data.frame(
  city = c("Frankfurt", "Birmingham", "Valencia")
)

geocoded_eu <- euiss_geocode(
  eu_cities, 
  loc = "city", 
  country_bias = "DE",
  verbose = TRUE
)

# Return as regular data frame
geocoded_df <- euiss_geocode(locations, loc = "city", sf = FALSE)
}

}
