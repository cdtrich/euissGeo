% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/visualization.R
\name{euiss_cartogram}
\alias{euiss_cartogram}
\title{Generate cartogram from sf object with data}
\usage{
euiss_cartogram(
  sf_data,
  weight,
  type = "cont",
  k = 0.05,
  crs = NULL,
  itermax = 15,
  prepare_data = TRUE,
  min_weight = NULL,
  verbose = FALSE
)
}
\arguments{
\item{sf_data}{A Simple Features (sf) object with polygon geometries and associated data.}

\item{weight}{The variable name for cartogram weights (unquoted).}

\item{type}{Type of cartogram. Options: "cont" (continuous), "ncont" (non-contiguous), "dorling".}

\item{k}{Smoothing parameter for continuous cartograms. Higher values = smoother.}

\item{crs}{Target coordinate reference system. If NULL, uses data's current CRS.}

\item{itermax}{Maximum iterations for cartogram algorithm.}

\item{prepare_data}{Logical. Should data be prepared/cleaned before cartogram creation?}

\item{min_weight}{Minimum weight threshold - polygons below this are excluded.}

\item{verbose}{Logical. Print progress and diagnostic information?}
}
\value{
A Simple Features (sf) object representing the cartogram.
}
\description{
This function creates cartograms where polygon sizes are distorted based on
a weight variable. Uses the cartogram package to create area or distance cartograms.
}
\details{
Cartogram types:
\itemize{
  \item \strong{cont}: Continuous cartogram preserving topology
  \item \strong{ncont}: Non-contiguous cartogram (shapes don't touch)
  \item \strong{dorling}: Dorling cartogram (circles proportional to weight)
}

The weight variable should be positive numeric values. Zero or negative values
may cause issues with cartogram algorithms.
}
\examples{
\dontrun{
# Load country data
countries <- euiss_gisco(res = "20") \%>\%
  slice_head(n = 10)  # Subset for faster processing

# Add sample population data
countries$population <- runif(nrow(countries), 1e6, 1e8)

# Create continuous cartogram
cartogram_cont <- euiss_cartogram(
  countries, 
  weight = population, 
  type = "cont"
)

# Create Dorling cartogram (circles)
cartogram_dorling <- euiss_cartogram(
  countries,
  weight = population,
  type = "dorling"
)

# Plot comparison
library(ggplot2)
original_plot <- ggplot(countries) + 
  geom_sf(aes(fill = population)) + 
  ggtitle("Original")

cartogram_plot <- ggplot(cartogram_cont) + 
  geom_sf(aes(fill = population)) +
  ggtitle("Cartogram")
}

}
