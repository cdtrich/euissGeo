% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/spatial-join.R
\name{euiss_left_join}
\alias{euiss_left_join}
\title{Left join data frame with sf object using country codes}
\usage{
euiss_left_join(
  df,
  sf,
  country = "country",
  sf_code_col = "ISO3_CODE",
  keep_sf_cols = TRUE,
  to_sf = TRUE,
  country_format = "auto",
  handle_kosovo = TRUE,
  kosovo_code = "KOS",
  verbose = FALSE,
  ...
)
}
\arguments{
\item{df}{Data frame containing country information.}

\item{sf}{Simple Features (sf) object with country codes.}

\item{country}{Name of the column in df containing country names.}

\item{sf_code_col}{Name of the ISO3 code column in sf object (default: "ISO3_CODE").}

\item{keep_sf_cols}{Which columns to keep from sf: TRUE (all), FALSE (geometry only), 
or character vector of column names (default: TRUE).}

\item{to_sf}{Return result as sf object? (default: TRUE).}

\item{country_format}{Format for country matching: "auto", "iso3c", "iso2c", "country.name".}

\item{handle_kosovo}{Handle Kosovo specially? (default: TRUE)}

\item{kosovo_code}{ISO3 code for Kosovo (default: "KOS").}

\item{verbose}{Print information about country matching? (default: FALSE)}

\item{...}{Additional arguments passed to dplyr::left_join().}
}
\value{
Data frame or sf object (depending on to_sf parameter) with joined data.
}
\description{
Performs a left join between a data frame and an sf object based on country codes.
Uses countrycode package to convert country names to ISO3 codes before joining,
with special handling for Kosovo and other edge cases.
}
\details{
Enhances standard spatial joins by automatically handling country name standardization.

Special cases:
\itemize{
  \item Kosovo (assigns custom ISO3 code)
  \item Country name variations (uses countrycode package)
  \item Missing matches (reports unmatched countries)
  \item Factor columns (automatically converted to character)
}
}
\examples{
\dontrun{
# Basic usage - keep all sf columns, return as sf
result <- euiss_left_join(df, euiss_gisco(res = "20"), country = "Country")

# Keep only specific columns from sf
result <- euiss_left_join(df, euiss_gisco(res = "20"), 
                          country = "Country",
                          keep_sf_cols = c("ISO3_CODE", "NAME_ENGL"))

# Keep only geometry
result <- euiss_left_join(df, euiss_gisco(res = "20"),
                          country = "Country", 
                          keep_sf_cols = FALSE)

# Return as regular data frame
result <- euiss_left_join(df, euiss_gisco(res = "20"),
                          country = "Country",
                          to_sf = FALSE)
}

}
