% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/spatial-join.R
\name{euiss_left_join}
\alias{euiss_left_join}
\title{Left join a data frame with a Simple Features (sf) object using country codes}
\usage{
euiss_left_join(
  df,
  sf,
  country = "country",
  by = c(iso3c = "ISO3_CODE"),
  country_format = "auto",
  handle_kosovo = TRUE,
  kosovo_code = "KOS",
  verbose = FALSE,
  ...
)
}
\arguments{
\item{df}{A data frame containing country information.}

\item{sf}{A Simple Features (sf) object with country codes as one of the columns.}

\item{country}{The name of the column in the data frame containing country names.}

\item{by}{A character vector specifying the columns to join on, with format c("df_column" = "sf_column").}

\item{country_format}{Format for country matching. Options: "auto", "iso3c", "iso2c", "country.name".}

\item{handle_kosovo}{Logical. Should Kosovo be handled specially? Default TRUE.}

\item{kosovo_code}{ISO3 code to use for Kosovo. Default "KOS".}

\item{verbose}{Logical. Print information about country matching? Default FALSE.}

\item{...}{Additional arguments passed to 'left_join' function from 'dplyr'.}
}
\value{
A data frame with the result of the left join operation.
}
\description{
This function performs a left join between a data frame and a Simple Features (sf) object
based on country codes. It uses the 'countrycode' package to convert country names
to ISO3 codes before joining, with special handling for Kosovo and other edge cases.
}
\details{
This function enhances standard spatial joins by automatically handling country name
standardization. It converts various country name formats to ISO codes for reliable
matching with spatial data.

Special cases handled:
\itemize{
  \item Kosovo (assigns custom ISO3 code)
  \item Country name variations (uses countrycode package)
  \item Missing country matches (reports unmatched countries)
}
}
\examples{
\dontrun{
# Example data frame with country information
df <- data.frame(
  country = c("United States", "Canada", "Germany", "Kosovo"),
  value = c(100, 200, 150, 75)
)

# Load GISCO countries data
countries_sf <- euiss_gisco(res = "20")

# Perform spatial join
result <- euiss_left_join(df, countries_sf, country = "country")

# Custom join column names
result <- euiss_left_join(
  df, countries_sf, 
  country = "country",
  by = c("iso3c" = "ISO3_CODE")
)
}

}
