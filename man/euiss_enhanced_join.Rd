% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/spatial-join.R
\name{euiss_enhanced_join}
\alias{euiss_enhanced_join}
\title{Enhanced spatial join with multiple fallback strategies}
\usage{
euiss_enhanced_join(
  df,
  sf,
  location_col = "location",
  sf_name_col = "NAME_ENGL",
  sf_code_col = "ISO3_CODE",
  strategies = c("exact", "code", "fuzzy", "spatial"),
  fuzzy_threshold = 0.8,
  coords_cols = c("longitude", "latitude"),
  verbose = FALSE
)
}
\arguments{
\item{df}{Data frame with country/location information.}

\item{sf}{Spatial features object for joining.}

\item{location_col}{Column name in df containing location information.}

\item{sf_name_col}{Column name in sf containing names for matching.}

\item{sf_code_col}{Column name in sf containing codes for matching.}

\item{strategies}{Vector of strategies to try: "exact", "code", "fuzzy", "spatial".}

\item{fuzzy_threshold}{Threshold for fuzzy string matching (0-1).}

\item{coords_cols}{For spatial strategy: c("longitude", "latitude") column names in df.}

\item{verbose}{Logical. Print detailed matching information?}
}
\value{
Data frame with joined spatial information and matching metadata.
}
\description{
This function performs spatial joins with multiple fallback strategies for
better matching success rates. It tries exact matches first, then fuzzy matching,
and finally spatial intersection for point data.
}
\examples{
\dontrun{
# Data with various country name formats
messy_data <- data.frame(
  location = c("USA", "United Kingdom", "Deutschland", "Espana"),
  value = c(100, 200, 150, 175)
)

countries_sf <- euiss_gisco(res = "20")

# Try multiple matching strategies
result <- euiss_enhanced_join(
  messy_data, countries_sf,
  location_col = "location",
  strategies = c("exact", "code", "fuzzy")
)
}

}
